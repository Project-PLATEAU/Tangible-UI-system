<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>API基本仕様 </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="API基本仕様 ">
    
      <link rel="shortcut icon" href="../favicon.ico">
      <link rel="stylesheet" href="../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../styles/docfx.css">
      <link rel="stylesheet" href="../styles/main.css">
      <meta property="docfx:navrel" content="../toc.html">
      <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../resources/logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="api基本仕様">API基本仕様</h1>

<h2 id="本書について">本書について</h2>
<p>本書では、PLATEAU Tangible Webアプリ（以下「本システム」という。）のAPI基本仕様について記載しています。</p>
<h2 id="基本呼び出しurl">基本呼び出しURL</h2>
<pre><code>curl -X GET \
-H 'Authorization: Bearer *** API KEY ***' 'https://*** defined by project ***/'
</code></pre>
<br>
<br>
<h2 id="api-list">API List</h2>
<h4 id="buildingsgmlid"><strong>/buildings/(:gmlID)</strong></h4>
<br>
<h4 id="furnituresfrnid"><strong>/furnitures/(:frnID)</strong></h4>
<br>
<h4 id="tangiblespost"><strong>/tangibles/post</strong></h4>
<h4 id="tangiblestangibleid"><strong>/tangibles/(:tangibleId)/</strong></h4>
<h4 id="tangiblestangibleidactivate"><strong>/tangibles/(:tangibleId)/activate</strong></h4>
<h4 id="tangiblestangibleidinactivate"><strong>/tangibles/(:tangibleId)/inactivate</strong></h4>
<h4 id="tangiblestangibleidmap"><strong>/tangibles/(:tangibleId)/map</strong></h4>
<h4 id="tangiblestangibleidfootprintsbuildings"><strong>/tangibles/(:tangibleId)/footprints/buildings</strong></h4>
<br>
<h4 id="workspaceswsid"><strong>/workspaces/(:wsID)</strong></h4>
<h4 id="workspaceswsidsnapshots"><strong>/workspaces/(:wsID)/snapshots</strong></h4>
<h4 id="workspaceswsidsnapshotssnapid"><strong>/workspaces/(:wsID)/snapshots/(:snapID)</strong></h4>
<h4 id="workspaceswsidtangible"><strong>/workspaces/(:wsID)/tangible</strong></h4>
<h4 id="workspaceswsidareasareaidunitymap"><strong>/workspaces/(:wsID)/areas/(:areaID)/unitymap</strong></h4>
<br>
<h2 id="building">Building</h2>
<h3 id="buildingsgmlid-1"><strong>/buildings/(:gmlID)</strong></h3>
<table>
<thead>
<tr>
<th>メソッド</th>
<th>認証</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>必要</td>
</tr>
</tbody>
</table>
<ul>
<li>単一(gmlID)建物情報を取得</li>
</ul>
<pre><code>{
  &quot;gmlID&quot;: &quot;bldg_******&quot;,
  &quot;footprint&quot;: [
    {
      &quot;altitude&quot;: ***,
      &quot;latitude&quot;: ***,
      &quot;longitude&quot;: ***
    },
    {
      &quot;altitude&quot;: ***,
      &quot;latitude&quot;: ***,
      &quot;longitude&quot;: ***
    },
    ...
  ],
  &quot;center&quot;: {
    &quot;altitude&quot;: ***,
    &quot;latitude&quot;: ***,
    &quot;longitude&quot;: ***
  },
  &quot;bldgID&quot;: &quot;14100-bldg-******&quot;,
  &quot;created&quot;: {
    &quot;_seconds&quot;: 1684318649,
    &quot;_nanoseconds&quot;: 126000000
  },
  &quot;modified&quot;: {
    &quot;_seconds&quot;: 1684318649,
    &quot;_nanoseconds&quot;: 126000000
  },
  &quot;height&quot;: ******,
  &quot;radius&quot;: ******
}
</code></pre>
<br>
<br>
<h2 id="furniture">Furniture</h2>
<h3 id="furnituresfrnid-1"><strong>/furnitures/(:frnID)</strong></h3>
<table>
<thead>
<tr>
<th>メソッド</th>
<th>認証</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>必要</td>
</tr>
</tbody>
</table>
<ul>
<li>単一(frnID)オブジェクト情報を取得</li>
</ul>
<pre><code>{
  &quot;objName&quot;: &quot;Fairlady_Z.fbx&quot;,
  &quot;name&quot;: &quot;Fairlady_Z&quot;,
  &quot;thumbnail&quot;: &quot;Nissan_Z_Proto_2020.png&quot;,
  &quot;type&quot;: &quot;car&quot;,
  &quot;created&quot;: {
    &quot;_seconds&quot;: 1690383600,
    &quot;_nanoseconds&quot;: 271000000
  },
  &quot;thumbUrl&quot;: &quot;https://firebasestorage.googleapis.com/v0/b/******.appspot.com/o/frn%2Fcar%2FNissan_Z_Proto_2020.png?alt=media&amp;token=******&quot;,
  &quot;objUrl&quot;: &quot;https://firebasestorage.googleapis.com/v0/b/******.appspot.com/o/frn%2Fcar%2FFairlady_Z.fbx?alt=media&amp;token=******&quot;
}
</code></pre>
<br>
<br>
<h2 id="tangible">Tangible</h2>
<h3 id="tangiblespost-1"><strong>/tangibles/post</strong></h3>
<table>
<thead>
<tr>
<th>メソッド</th>
<th>認証</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td>必要</td>
</tr>
</tbody>
</table>
<ul>
<li>対象tangibleから最新データを投稿</li>
<li>対象tangibleがactiveでないとエラー。<strong>taigibles/(:tangibleId)/activate</strong>を先に呼び出す必要がある</li>
</ul>
<pre><code>Body
{
    &quot;unitID&quot;: &quot;100000005e387919&quot;,
    &quot;timestump&quot;: &quot;yyyy-mm-ddThh:mm&quot;,
    &quot;data&quot;:
    [
        {
            &quot;markerID&quot;: 1,
            &quot;coordinates&quot;: {
                &quot;x1&quot;:1182.0,
                &quot;x2&quot;:1381.0,
                &quot;x3&quot;:1373.0,
                &quot;x4&quot;:1172.0,
                &quot;y1&quot;:673.0,
                &quot;y2&quot;:684.0,
                &quot;y3&quot;:888.0,
                &quot;y4&quot;:876.0,
                &quot;cx&quot;:1277.0,
                &quot;cy&quot;:780.25
            }
        },
        {
            &quot;markerID&quot;: 2,
            &quot;coordinates&quot;: {
                &quot;x1&quot;:1182.0,
                &quot;x2&quot;:1381.0,
                &quot;x3&quot;:1373.0,
                &quot;x4&quot;:1172.0,
                &quot;y1&quot;:673.0,
                &quot;y2&quot;:684.0,
                &quot;y3&quot;:888.0,
                &quot;y4&quot;:876.0,
                &quot;cx&quot;:1277.0,
                &quot;cy&quot;:780.25
            },
        },
        ...
    ]
}
</code></pre>
<br>
<br>
<h3 id="tangiblestangibleid-1"><strong>/tangibles/(:tangibleId)/</strong></h3>
<table>
<thead>
<tr>
<th>メソッド</th>
<th>認証</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>必要</td>
</tr>
</tbody>
</table>
<ul>
<li>対象tangibleの最新データを取得</li>
</ul>
<br>
<br>
<h3 id="tangiblestangibleidactivate-1"><strong>/tangibles/(:tangibleId)/activate</strong></h3>
<table>
<thead>
<tr>
<th>メソッド</th>
<th>認証</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>必要</td>
</tr>
</tbody>
</table>
<ul>
<li>対象tangibleを稼働状態にする<strong>tangibles/post</strong>で、データをPOSTできるようになる
<br>
<br></li>
</ul>
<h3 id="tangiblestangibleidinactivate-1"><strong>/tangibles/(:tangibleId)/inactivate</strong></h3>
<table>
<thead>
<tr>
<th>メソッド</th>
<th>認証</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>必要</td>
</tr>
</tbody>
</table>
<ul>
<li>対象tangibleを停止状態にする
<br>
<br></li>
</ul>
<h3 id="tangiblestangibleidmap-1"><strong>/tangibles/(:tangibleId)/map</strong></h3>
<table>
<thead>
<tr>
<th>メソッド</th>
<th>認証</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>必要</td>
</tr>
</tbody>
</table>
<ul>
<li>国土地理院の画像データURLを取得(storageに保存している)</li>
<li>URLはパブリックなものなのでそこから画像をダウンロードする</li>
<li>unity画像がある場合はunity画像のurlを返却</li>
</ul>
<pre><code>{
  &quot;message&quot;: &quot;OK&quot;,
  &quot;url&quot;: &quot;https://firebasestorage.googleapis.com/v0/b/******.appspot.com/o/******.png?alt=media&amp;token=******&quot;
}
</code></pre>
<br>
<br>
<h3 id="tangiblestangibleidfootprintsbuildings-1"><strong>/tangibles/(:tangibleId)/footprints/buildings</strong></h3>
<table>
<thead>
<tr>
<th>メソッド</th>
<th>認証</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>必要</td>
</tr>
</tbody>
</table>
<ul>
<li>tangibleユニットの表示範囲にいるplateau建物を取得する</li>
<li>マーカーではない。マーカーとして選択されているものも含まれている。</li>
</ul>
<pre><code>[
  {
    &quot;gmlID&quot;: &quot;bldg_******&quot;,
    &quot;footprint&quot;: [
      {
        &quot;latitude&quot;: 35.-----,
        &quot;longitude&quot;: 139.-----,
        &quot;altitude&quot;: 3.-----
      },
      {
        &quot;latitude&quot;: 35.-----,
        &quot;longitude&quot;: 139.-----,
        &quot;altitude&quot;: 3.-----
      },
      ...
    ],
    &quot;center&quot;: {
      &quot;latitude&quot;: 35.-----,
      &quot;longitude&quot;: 139.-----,
      &quot;altitude&quot;: 3.-----
    },
    &quot;bldgID&quot;: &quot;14100-bldg-*******&quot;,
    &quot;created&quot;: {
      &quot;_seconds&quot;: 1686895725,
      &quot;_nanoseconds&quot;: 740000000
    },
    &quot;modified&quot;: {
      &quot;_seconds&quot;: 1686895725,
      &quot;_nanoseconds&quot;: 740000000
    },
    &quot;height&quot;: ***
  },
  ...
]
</code></pre>
<br>
<br>
<h2 id="workspace">Workspace</h2>
<h3 id="workspaceswsid-1"><strong>/workspaces/(:wsID)</strong></h3>
<table>
<thead>
<tr>
<th>メソッド</th>
<th>認証</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>必要</td>
</tr>
</tbody>
</table>
<ul>
<li>ワークスペースの基本情報を取得（エリア、マーカー）</li>
<li>マーカーの本体情報や座標情報は含まない<br>
（座標は最新のスナップショットであり、それは別のAPI）</li>
</ul>
<pre><code>{
  &quot;created&quot;: {
    &quot;_seconds&quot;: 1689658954,
    &quot;_nanoseconds&quot;: 386000000
  },
  &quot;description&quot;: &quot;ワークスペース詳細&quot;,
  &quot;title&quot;: &quot;新規ワークスペース&quot;,
  &quot;organizer&quot;: &quot;******&quot;,
  &quot;modified&quot;: {
    &quot;_seconds&quot;: 1693790275,
    &quot;_nanoseconds&quot;: 819000000
  },
  &quot;areas&quot;: [
    {
      &quot;area&quot;: {
        &quot;SW&quot;: {
          &quot;lng&quot;: 139.---,
          &quot;lat&quot;: 35.---
        },
        &quot;NE&quot;: {
          &quot;lng&quot;: 139.---,
          &quot;lat&quot;: 35.---
        },
        &quot;center&quot;: {
          &quot;lng&quot;: 139.---,
          &quot;lat&quot;: 35.---
        },
        &quot;rotation&quot;: 0,
        &quot;zoom&quot;: 20.14,
        &quot;map&quot;: &quot;map_******.png&quot;
      },
      &quot;created&quot;: {
        &quot;_seconds&quot;: 1693183069,
        &quot;_nanoseconds&quot;: 659000000
      },
      &quot;title&quot;: &quot;area04&quot;,
      &quot;tangibleID&quot;: &quot;************&quot;,
      &quot;modified&quot;: {
        &quot;_seconds&quot;: 1693790275,
        &quot;_nanoseconds&quot;: 500000000
      },
      &quot;docId&quot;: &quot;1CzDqsPrBpHHs7K70Kqc&quot;,
      &quot;markers&quot;: [
        {
          &quot;objID&quot;: &quot;******&quot;,
          &quot;comment&quot;: &quot;&quot;,
          &quot;type&quot;: &quot;furniture&quot;,
          &quot;markerID&quot;: &quot;02&quot;,
          &quot;created&quot;: {
            &quot;_seconds&quot;: 1693790275,
            &quot;_nanoseconds&quot;: 719000000
          },
          &quot;modified&quot;: {
            &quot;_seconds&quot;: 1693790275,
            &quot;_nanoseconds&quot;: 719000000
          },
          &quot;docId&quot;: &quot;02&quot;
        },
        {
          &quot;created&quot;: {
            &quot;_seconds&quot;: 1693183120,
            &quot;_nanoseconds&quot;: 989000000
          },
          &quot;objID&quot;: &quot;bldg_******&quot;,
          &quot;comment&quot;: &quot;&quot;,
          &quot;type&quot;: &quot;building&quot;,
          &quot;markerID&quot;: &quot;00&quot;,
          &quot;modified&quot;: {
            &quot;_seconds&quot;: 1693790275,
            &quot;_nanoseconds&quot;: 719000000
          },
          &quot;docId&quot;: &quot;00&quot;
        }
      ]
    },
    ...
  ]
}
</code></pre>
<br>
<br>
<h3 id="workspaceswsidsnapshots-1"><strong>/workspaces/(:wsID)/snapshots</strong></h3>
<table>
<thead>
<tr>
<th>メソッド</th>
<th>認証</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET/POST</td>
<td>必要</td>
</tr>
</tbody>
</table>
<h4 id="get">GET</h4>
<ul>
<li>ワークスペース(wsID)のスナップショットのリストを取得</li>
<li>マーカー情報は含まれない</li>
</ul>
<pre><code>[
  {
    &quot;comment&quot;: &quot;つくれているかな？&quot;,
    &quot;screenshot&quot;: &quot;snapshot_2023-08-03-17-36-52.png&quot;,
    &quot;camera&quot;: {
      &quot;position&quot;: {
        &quot;lng&quot;: 139.***,
        &quot;alt&quot;: 255.***,
        &quot;lat&quot;: 35.***
      },
      &quot;target&quot;: {
        &quot;lng&quot;: 139.***,
        &quot;alt&quot;: 96.***,
        &quot;lat&quot;: 35.***
      }
    },
    &quot;title&quot;: &quot;スナップショットつくってみた&quot;,
    &quot;unityimage&quot;: &quot;&quot;,
    &quot;created&quot;: {
      &quot;_seconds&quot;: 1691051813,
      &quot;_nanoseconds&quot;: 570000000
    },
    &quot;docId&quot;: &quot;2023-08-03-17-36-52&quot;,
    &quot;screenUrl&quot;: &quot;https://firebasestorage.googleapis.com/v0/b/********.appspot.com/o/workspaces%2F******%2Fsnapshot_2023-08-03-17-36-52.png?alt=media&amp;token=******&quot;
  },
  ...
]
</code></pre>
<br>
<br>
<h4 id="post">POST</h4>
<ul>
<li>スナップショットを作成する</li>
<li>タンジブルユニットが最低１つ起動中であることが条件</li>
</ul>
<table>
<thead>
<tr>
<th>パラメータ</th>
<th>内容</th>
<th>必須</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td>画像ファイル</td>
<td>✓</td>
</tr>
<tr>
<td>title</td>
<td>スナップショットタイトル</td>
<td>✓</td>
</tr>
<tr>
<td>comment</td>
<td>スナップショットコメント</td>
<td>-</td>
</tr>
<tr>
<td>camera</td>
<td>ディスプレイカメラの情報※1</td>
<td>✓</td>
</tr>
</tbody>
</table>
<p>※1: <code>position</code>はカメラ座標（緯度経度高度）、<code>target</code>はカメラ視点座標（緯度経度高度）</p>
<pre><code>{
  position: { lat: number, lng: number: alt: number },
  target: { lat: number, lng: number: alt: number }
}
</code></pre>
<pre><code>curl -X POST \
http://***apibase***/workspaces/(:wsId)/snapshots/ \
-H &quot;Authorization: Bearer ***apikey***&quot; \
-F &quot;file=@sample.png&quot;
-F 'title=API Snapshot' \
-F 'comment=comment sample' \
-F 'camera={&quot;position&quot;:{&quot;alt&quot;:16,&quot;lat&quot;:35.***,&quot;lng&quot;:139.***},&quot;target&quot;:{&quot;alt&quot;:3,&quot;lat&quot;:35.***,&quot;lng&quot;:139.***}}'
</code></pre>
<br>
<br>
<h3 id="workspaceswsidsnapshotssnapid-1"><strong>/workspaces/(:wsID)/snapshots/(:snapID)</strong></h3>
<table>
<thead>
<tr>
<th>メソッド</th>
<th>認証</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>必要</td>
</tr>
</tbody>
</table>
<ul>
<li>ワークスペース(wsID)の単一スナップショット(snapID)の詳細情報を取得</li>
<li>snapIDを&quot;latest&quot;にすると最新のスナップショット情報を返却</li>
</ul>
<pre><code>{
  &quot;comment&quot;: &quot;つくれているかな？&quot;,
  &quot;screenshot&quot;: &quot;snapshot_2023-08-03-17-36-52.png&quot;,
  &quot;camera&quot;: {
    &quot;position&quot;: {
      &quot;lng&quot;: 139.***,
      &quot;alt&quot;: 255.***,
      &quot;lat&quot;: 35.***
    },
    &quot;target&quot;: {
      &quot;lng&quot;: 139.***,
      &quot;alt&quot;: 96.***,
      &quot;lat&quot;: 35.***
    }
  },
  &quot;title&quot;: &quot;スナップショットつくってみた&quot;,
  &quot;unityimage&quot;: &quot;&quot;,
  &quot;created&quot;: {
    &quot;_seconds&quot;: 1691051813,
    &quot;_nanoseconds&quot;: 570000000
  },
  &quot;docId&quot;: &quot;2023-08-03-17-36-52&quot;,
  &quot;screenUrl&quot;: &quot;******&quot;,
  &quot;areas&quot;: [
    {
      &quot;area&quot;: {
        &quot;SW&quot;: { &quot;lng&quot;: ***, &quot;lat&quot;: *** },
        &quot;NE&quot;: { &quot;lng&quot;: ***, &quot;lat&quot;: *** },
        &quot;center&quot;: { &quot;lng&quot;: ***, &quot;lat&quot;: *** },
        &quot;rotation&quot;: 0,
        &quot;zoom&quot;: 18
      },
      &quot;created&quot;: {
        &quot;_seconds&quot;: 1689658954,
        &quot;_nanoseconds&quot;: 471000000
      },
      &quot;title&quot;: &quot;area1&quot;,
      &quot;tangibleID&quot;: &quot;******&quot;,
      &quot;modified&quot;: {
        &quot;_seconds&quot;: 1691051813,
        &quot;_nanoseconds&quot;: 625000000
      },
      &quot;docId&quot;: &quot;******&quot;,
      &quot;markers&quot;: [
        {
          &quot;created&quot;: {
            &quot;_seconds&quot;: 1689658954,
            &quot;_nanoseconds&quot;: 556000000
          },
          &quot;rotation&quot;: 4.6718208444643565,
          &quot;objID&quot;: &quot;bldg_******&quot;,
          &quot;comment&quot;: &quot;&quot;,
          &quot;position&quot;: { &quot;lng&quot;: ***, &quot;lat&quot;: *** },
          &quot;type&quot;: &quot;building&quot;,
          &quot;bldg&quot;: {
            &quot;gmlID&quot;: &quot;bldg_******&quot;,
            &quot;footprint&quot;: [
              {
                &quot;altitude&quot;: ***,
                &quot;latitude&quot;: ***,
                &quot;longitude&quot;: ***
              },
              ...
            ],
            &quot;center&quot;: {
              &quot;altitude&quot;: ***,
              &quot;latitude&quot;: ***,
              &quot;longitude&quot;: ***
            },
            &quot;bldgID&quot;: &quot;14100-bldg-******&quot;,
            &quot;created&quot;: {
              &quot;_seconds&quot;: 1684318649,
              &quot;_nanoseconds&quot;: 126000000
            },
            &quot;modified&quot;: {
              &quot;_seconds&quot;: 1684318649,
              &quot;_nanoseconds&quot;: 126000000
            },
            &quot;height&quot;: ******,
            &quot;radius&quot;: ******
          }
          &quot;markerID&quot;: &quot;02&quot;,
          &quot;modified&quot;: {
            &quot;_seconds&quot;: 1691051813,
            &quot;_nanoseconds&quot;: 677000000
          },
          &quot;docId&quot;: &quot;02&quot;
        },
        {
          &quot;created&quot;: {
            &quot;_seconds&quot;: 1689658954,
            &quot;_nanoseconds&quot;: 556000000
          },
          &quot;rotation&quot;: 4.750831570405878,
          &quot;objID&quot;: &quot;******&quot;,
          &quot;comment&quot;: &quot;&quot;,
          &quot;position&quot;: { &quot;lng&quot;: ***, &quot;lat&quot;: *** },
          &quot;type&quot;: &quot;furniture&quot;,
          &quot;frn&quot;: {
            &quot;objName&quot;: &quot;Fairlady_Z.fbx&quot;,
            &quot;name&quot;: &quot;Fairlady_Z&quot;,
            &quot;thumbnail&quot;: &quot;Nissan_Z_Proto_2020.png&quot;,
            &quot;type&quot;: &quot;car&quot;,
            &quot;created&quot;: {
              &quot;_seconds&quot;: 1690383600,
              &quot;_nanoseconds&quot;: 271000000
            },
            &quot;thumbUrl&quot;: &quot;https://*****&quot;,
            &quot;objUrl&quot;: &quot;https://*****&quot;
          }
          &quot;markerID&quot;: &quot;00&quot;,
          &quot;modified&quot;: {
            &quot;_seconds&quot;: 1691051813,
            &quot;_nanoseconds&quot;: 677000000
          },
          &quot;docId&quot;: &quot;00&quot;
        },
        ...
      ]
    },
    ...
  ]
}
</code></pre>
<br>
<br>
<h3 id="workspaceswsidtangible-1"><strong>/workspaces/(:wsID)/tangible</strong></h3>
<table>
<thead>
<tr>
<th>メソッド</th>
<th>認証</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>必要</td>
</tr>
</tbody>
</table>
<ul>
<li>タンジブルが稼働状態のとき、最新マーカー情報を緯度経度、回転情報付きで返す</li>
<li>tangible.markersのマーカーにはマーカー本体情報を付与</li>
</ul>
<pre><code>[
  {
    &quot;area&quot;: {
      &quot;SW&quot;: { &quot;lng&quot;: 139.***, &quot;lat&quot;: 35.*** },
      &quot;NE&quot;: { &quot;lng&quot;: 139.***, &quot;lat&quot;: 35.*** },
      &quot;center&quot;: { &quot;lng&quot;: 139.***, &quot;lat&quot;: 35.*** },
      &quot;rotation&quot;: 0,
      &quot;zoom&quot;: 18
    },
    &quot;title&quot;: &quot;area2&quot;,
    &quot;tangibleID&quot;: &quot;******&quot;,
    &quot;created&quot;: {
      &quot;_seconds&quot;: 1690184599,
      &quot;_nanoseconds&quot;: 428000000
    },
    &quot;modified&quot;: {
      &quot;_seconds&quot;: 1690184599,
      &quot;_nanoseconds&quot;: 428000000
    },
    &quot;docId&quot;: &quot;******&quot;,
    &quot;markers&quot;: [
      {
        &quot;objID&quot;: &quot;bldg_******&quot;,
        &quot;comment&quot;: &quot;&quot;,
        &quot;type&quot;: &quot;building&quot;,
        &quot;markerID&quot;: &quot;04&quot;,
        &quot;created&quot;: {
          &quot;_seconds&quot;: 1690184599,
          &quot;_nanoseconds&quot;: 660000000
        },
        &quot;modified&quot;: {
          &quot;_seconds&quot;: 1690184599,
          &quot;_nanoseconds&quot;: 660000000
        },
        &quot;docId&quot;: &quot;04&quot;
      },
      {
        &quot;objID&quot;: &quot;******&quot;,
        &quot;comment&quot;: &quot;&quot;,
        &quot;type&quot;: &quot;furniture&quot;,
        &quot;markerID&quot;: &quot;00&quot;,
        &quot;created&quot;: {
          &quot;_seconds&quot;: 1690184599,
          &quot;_nanoseconds&quot;: 660000000
        },
        &quot;modified&quot;: {
          &quot;_seconds&quot;: 1690184599,
          &quot;_nanoseconds&quot;: 660000000
        },
        &quot;docId&quot;: &quot;00&quot;
      },
      ...
    ],
    &quot;tangible&quot;: {
      &quot;active&quot;: true,
      &quot;timestamp&quot;: &quot;2023-07-26T16:12&quot;,
      &quot;markers&quot;: [
        {
          &quot;objID&quot;: &quot;bldg_******&quot;,
          &quot;comment&quot;: &quot;&quot;,
          &quot;type&quot;: &quot;building&quot;,
          &quot;markerID&quot;: &quot;02&quot;,
          &quot;created&quot;: {
            &quot;_seconds&quot;: 1690184599,
            &quot;_nanoseconds&quot;: 660000000
          },
          &quot;modified&quot;: {
            &quot;_seconds&quot;: 1690184599,
            &quot;_nanoseconds&quot;: 660000000
          },
          &quot;docId&quot;: &quot;02&quot;,
          &quot;center&quot;: { &quot;lat&quot;: 35.***, &quot;lng&quot;: 139.*** },
          &quot;rotation&quot;: ***,
          &quot;bldg&quot;: {
            &quot;gmlID&quot;: &quot;bldg_***&quot;,
            &quot;footprint&quot;: [
              {
                &quot;altitude&quot;: 3.-,
                &quot;latitude&quot;: 35.-,
                &quot;longitude&quot;: 139.-
              },
              {
                &quot;altitude&quot;: 3.-,
                &quot;latitude&quot;: 35.-,
                &quot;longitude&quot;: 139.-
              },
              ...
            ],
            &quot;center&quot;: {
              &quot;altitude&quot;: 3.-,
              &quot;latitude&quot;: 35.-,
              &quot;longitude&quot;: 139.-
            },
            &quot;bldgID&quot;: &quot;14100-bldg-******&quot;,
            &quot;created&quot;: {
              &quot;_seconds&quot;: 1686895725,
              &quot;_nanoseconds&quot;: 740000000
            },
            &quot;modified&quot;: {
              &quot;_seconds&quot;: 1686895725,
              &quot;_nanoseconds&quot;: 740000000
            },
            &quot;height&quot;: ******,
            &quot;radius&quot;: ******
          }
        },
        {
          &quot;objID&quot;: &quot;******&quot;,
          &quot;comment&quot;: &quot;&quot;,
          &quot;type&quot;: &quot;furniture&quot;,
          &quot;markerID&quot;: &quot;00&quot;,
          &quot;created&quot;: {
            &quot;_seconds&quot;: 1690184599,
            &quot;_nanoseconds&quot;: 660000000
          },
          &quot;modified&quot;: {
            &quot;_seconds&quot;: 1690184599,
            &quot;_nanoseconds&quot;: 660000000
          },
          &quot;docId&quot;: &quot;00&quot;,
          &quot;center&quot;: { &quot;lat&quot;: 35.-, &quot;lng&quot;: 139.- },
          &quot;rotation&quot;: ***,
          &quot;frn&quot;: {
            &quot;created&quot;: {
              &quot;_seconds&quot;: 1686236400,
              &quot;_nanoseconds&quot;: 197000000
            },
            &quot;name&quot;: &quot;Note&quot;,
            &quot;type&quot;: &quot;car&quot;,
            &quot;objName&quot;: &quot;Note.fbx&quot;,
            &quot;thumbnail&quot;: &quot;Note.jpg&quot;,
            &quot;thumbUrl&quot;: &quot;https://******&quot;,
            &quot;objUrl&quot;: &quot;https://******&quot;
          }
        },
        ...
      ]
    }
  },
  ...
]
</code></pre>
<br>
<br>
<h3 id="workspaceswsidareasareaidunitymap-1"><strong>/workspaces/(:wsID)/areas/(:areaID)/unitymap</strong></h3>
<table>
<thead>
<tr>
<th>メソッド</th>
<th>認証</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET/POST</td>
<td>必要</td>
</tr>
</tbody>
</table>
<ul>
<li><p>Unityにおけるエリアの地表画像？保存、URL取得</p>
</li>
<li><p>マーカーの本体情報や座標情報は含まない</p>
</li>
<li><p>area情報に含まれるNE(North East)からSW(South West)の範囲の1920*1080の画像としてPOSTすること</p>
</li>
<li><p>レスポンスはGET/POST同様</p>
</li>
</ul>
<pre><code>{&quot;url&quot;:&quot;https://firebasestorage.googleapis.com/v0/b/******&quot;}
</code></pre>
<p><strong>POST</strong></p>
<ul>
<li>画像ファイルをmultipart/formdataとしてPOST。キーは&quot;file&quot;</li>
</ul>
<pre><code>curl -X POST \
http://***apibase***/workspaces/(:wsId)/areas/(:areaId)/unitymap \
-H &quot;Authorization: Bearer ***apikey***&quot; \
-F &quot;file=@sample.png&quot;
</code></pre>
<br>
<br>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In this article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      
      <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
